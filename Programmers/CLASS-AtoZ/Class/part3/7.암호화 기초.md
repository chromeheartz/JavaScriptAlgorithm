
### 📌 7. 암호화 기초

평문을 `해독 불가한 암호문`으로 변환하는 것을 말함. `단방향(해싱)`, `양방향 암호화` 2가지 방법이 존재한다.

### 📌 단방향 암호화
- `해시 알고리즘`을 통해 평문을 복호화 할 수 없는 형태로 암호화함 (저장하는 측에서도 해당 데이터를 알면 안되기 때문에)
- 대표적으로 `MD5` ,`SHA` 알고리즘이 있다
- 사용자 비밀번호 등 저장할 때 많이 사용
- `MD5, SHA-0, SHA-1` 은 `해시 충돌`이 발생할 수 있기 때문에 사용 권장 x

> 고려할 점
- `Rainbow Table` 에 대한 대비 (Rainbow Table: 평문과 해시 함수로 만든 문자열을 모두 저장시켜 놓은 표)
- 암호화된 데이터를 `탈취당하더라도` 원문을 알아낼 수 없도록 조치를 취해야함, ex) Salt, Key stretching

#### Salt
- 평문에 `임의의 문자열을 추가` 하여 암호화하는 방법
- 128bit 이상으로 만들어야 효과적이기 때문에 이렇게 만드는 것을 권장
- 사용자마다 `다르게 작성하는 것` 이 더 안전한 방법

#### Key stretching
- 해시를 `여러 번 반복` 하여 원문을 알기 힘들게 만드는 방법 (1000번 반복할 경우 해커도 원본을 1000번 해시 알고리즘 돌리기전까지 알 수 없다.)
- 일반적인 시스템에서는 0.2초 이상 반복되면 안전하다고 한다.

> `Salt`와 `Key stretching` 모두 직접 구현하는 것보단 이미 검증받은 알고리즘을 사용하는 것이 안전함
- PBKDF2
- bcrypt (비밀번호 저장을 사용할 경우 추천)

### 📌 양방향 암호화
평문을 `복호화` 할 수 있는 형태로 암호화 하는 방법
대표적으로 대칭키를 이용하는 `AES`, 비대칭키를 이용하는 `RSA` 로 분류

#### 대칭키 알고리즘
> 
- 대표적으로 `AES` 를 많이 사용
- `같은 키` 를 이용하여 암호화, 복호화 가능

#### 비대칭키 암호 알고리즘
> 
- 대표적으로 `RSA` 를 많이 사용
- `RSA 공개키` 와 `개인키` 2가지 존재
- 대칭키 암호화만으론 다수를 대상으로 암호문을 받기 힘들기 때문 (나에게 암호문을 보내고 싶은 사람은 공개키를 이용해 암호문을 보낼 수 있고 받은 사람은 개인키로 복호화 가능)

### 📌 JS에서 암호화를 어떻게 이용할까?
`crypto-js` 라이브러리를 이용하면 된다! (대부분의 암호화 이용 가능) 단, bcrypt는 구현되어있지 않기 때문에 별도로 알아봐야 함. 