### ğŸ“Œ 14. ì¿ í‚¤ì™€ ì„¸ì…˜, ì›¹ìŠ¤í† ë¦¬ì§€

**Http ìš”ì²­ì€ ê¸°ë³¸ì ìœ¼ë¡œ ìƒíƒœê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ.** (í•­ìƒ ë‹¨ë°œì„±) ì´ì— ë”°ë¼ ì„œë²„ê°€ ì–´ë–¤ ë¸Œë¼ìš°ì €ì—ì„œ ìš”ì²­ì´ ì˜¨ ê²ƒì¸ì§€ ì•Œ ìˆ˜ ì—†ì§€ë§Œ `í—¤ë”ì— ì¿ í‚¤` ë¥¼ ë‹´ê²Œë  ê²½ìš° `ì„œë²„ê°€ ì¿ í‚¤` ë¥¼ ì½ì–´ ì–´ë””ì„œ ì˜¨ ê²ƒì¸ì§€ ì•Œ ìˆ˜ ìˆê²Œëœë‹¤.

### ì¿ í‚¤

- ì¿ í‚¤ë€ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê´€ë¦¬í•˜ê³  ì €ì¥í•˜ëŠ” ë°ì´í„°ë¥¼ ë§í•œë‹¤. (ë¸Œë¼ìš°ì €ë¥¼ ë‹«ì•„ë„ ë°ì´í„°ê°€ ìœ ì§€ë¨)
- ì„œë²„ì—ì„œ set-cookieë¥¼ ì‘ë‹µ í—¤ë”ë¡œ ë‚´ë ¤ì£¼ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ ì´ë¥¼ ë°›ê³  ì•Œì•„ì„œ ì €ì¥í•¨. (ë§Œì•½ ì´ê²Œ ì‹«ë‹¤ë©´ ìì œì²™ìœ¼ë¡œ ì¡°ì‘ ê°€ëŠ¥)
- ê° ìƒíƒœì—ì„œ ìˆ˜ëª… ì •í•´ì¤„ ìˆ˜ ìˆìŒ


#### set-cookie
ì„œë²„ì—ì„œ ë‚´ë ¤ì£¼ëŠ” set-cookieëŠ” `í‚¤=ê°’` í˜•íƒœë¡œ ë‚´ë ¤ì˜¨ë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ì´ ê°’ì„ íŒŒì‹±í•˜ì—¬ ì•Œì•„ì„œ ì¿ í‚¤ì— ë°ì´í„°ë¥¼ ì¶”ê°€í•¨. ê° ë°ì´í„°ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì—¬ëŸ¬ ì˜µì…˜ë“¤ì´ ì¡´ì¬í•  ìˆ˜ ìˆë‹¤.

- `Expires` : ì¿ í‚¤ ë§Œë£Œ ë‚ ì§œ ì§€ì •
- `Secure` : HTTPSì—ì„œë§Œ ì¿ í‚¤ ì „ì†¡
- `HttpOnly` : JSì—ì„œ ì¿ í‚¤ ì ‘ê·¼ ëª»í•˜ê²Œ ë§‰ìŒ (XSS ì˜ˆë°©)
- `Max-Age` : ì¿ í‚¤ ìˆ˜ëª… ì •í•¨ (expireì™€ ìœ ì‚¬í•˜ì§€ë§Œ í•´ë‹¹ ì„¤ì •ì´ ì¡´ì¬í•  ê²½ìš° expireë¥¼ ë¬´ì‹œ)
- `Domain` : ë„ë©”ì¸ì´ ì¼ì¹˜í•˜ëŠ” ìš”ì²­ë§Œ ì¿ í‚¤ ì „ì†¡
- `Path` : íŒ¨ìŠ¤ì™€ ì¼ì¹˜í•˜ëŠ” ìš”ì²­ë§Œ ì¿ í‚¤ ì „ì†¡

> **ì¿ í‚¤ì˜ ì·¨ì•½ì **
**XSS (Cross-Site Script) ê³µê²©**
JSë¥¼ í†µí•´ í•´ì»¤ê°€ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ì¿ í‚¤ê°’ì„ íƒˆì·¨í•  ìˆ˜ ìˆë‹¤. ìœ„ì—ì„œ ë§í•œ `httponlyì˜µì…˜` ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ìµœê·¼ì—ëŠ” SPA ê°œë°œì´ ì£¼ë¥¼ ì´ë£¨ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•˜ê¸° í˜ë“¤ë‹¤.
ë˜í•œ ì¿ í‚¤ë¥¼ ì•”í˜¸í™”í•˜ì§€ ì•Šê³  ë³´ë‚´ê²Œë  ê²½ìš° ì¿ í‚¤ê°’ì„ ì¤‘ê°„ì— íƒˆì·¨ ë‹¹í•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤. (Httpsë¡œ í•´ê²° ê°€ëŠ¥!)

í´ë¼ì´ì–¸íŠ¸ê°€ ì¿ í‚¤ë¥¼ ì•„ë¬´ë¦¬ ë³´ë‚´ë„ ì„œë²„ëŠ” ì´ë¥¼ ì•Œì§€ ëª»í•˜ëŠ”ë° ê·¸ë ‡ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?

> ë‹µì€ **ì„¸ì…˜**ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤

### Session

**ì¿ í‚¤ì— http session idë¥¼ ì‹ë³„ìë¡œ ë‹´ì•„ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°„ì— í†µì‹ ì´ ê°€ëŠ¥** í•˜ë‹¤. -> ì„œë²„ëŠ” ì‹ë³„ìë¡œ ì‚¬ìš©ìë¥¼ êµ¬ë¶„í•˜ê³  ì ì ˆí•œ ë°ì´í„°ë¥¼ ì‘ë‹µí•´ì¤Œ

> #### ì„¸ì…˜ì˜ ì·¨ì•½ì 
1. ë§Œì•½ ì‚¬ìš©ìê°€ ë§ì•„ì§„ë‹¤ë©´? -> ì €ì¥ ê³µê°„ ë¶€ì¡±ìœ¼ë¡œ ë™ì‘ ì•ˆí•¨
2. ì„œë²„ê°€ 2ëŒ€ë¼ë©´ ì„¸ì…˜ì€ ì–´ë–»ê²Œ ê´€ë¦¬? -> ì¸ì¦ ì •ë³´ê°€ í©ì–´ì ¸ìˆê¸° ë•Œë¬¸ì— ì œëŒ€ë¡œ ì‘ë‹µ ëª»í•  ê°€ëŠ¥ì„± ë†’ì•„ì§

ì´ëŸ¬í•œ ì´ìœ ë¡œ ìµœê·¼ì—ëŠ” ì¸ì¦ ìš©ë„ë¡œ ì„¸ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°„ì˜ ì¸ì¦ì€ JWTê°™ì€ ë³„ë„ì˜ í† í°ì„ ì´ìš©í•˜ê³  ì¿ í‚¤ëŠ” í´ë¼ì´ì–¸íŠ¸ ìì²´ì ì¸ ë°ì´í„° ê´€ë¦¬ ìš©ë„ë¡œ ë§ì´ ì‚¬ìš©**í•œë‹¤.


### ì›¹ ìŠ¤í† ë¦¬ì§€
- ì¿ í‚¤ì—ì„œ í•˜ê¸° í˜ë“  ê²ƒë“¤ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë“±ì¥
- HTML5ë¶€í„° ë“±ì¥
- ë¡œì»¬ ìŠ¤í† ë¦¬ì§€, ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ê°€ ì¡´ì¬

> #### ë¡œì»¬ ìŠ¤í† ë¦¬ì§€
- ë°ì´í„°ê°€ ë°˜ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥ë¨ (ë¸Œë¼ìš°ì € ì¢…ë£Œí•´ë„ ë‚¨ëŠ”ë‹¤.)
- ì¿ í‚¤ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì €ì¥í–ˆë˜ ë„ë©”ì¸ê³¼ ì´ìš©í•˜ëŠ” ë„ë©”ì¸ì´ ë‹¤ë¥¼ ê²½ìš° ì ‘ê·¼ ë¶ˆê°€
- ì¿ í‚¤ì™€ ë§ˆì°¬ê°€ì§€ë¡œ Key-value í˜•íƒœë¡œ ì €ì¥
#### ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€
- ìƒˆ ì°½ ìƒì„±ì‹œë§ˆë‹¤ ê°œë³„ì ìœ¼ë¡œ ë°ì´í„° ì €ì¥ (ë¸Œë¼ìš°ì € ë‹«ëŠ” ìˆœê°„ ì‚¬ë¼ì§.)
- ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì™€ ë‹¤ë¥´ê²Œ ê°™ì€ ë„ë©”ì¸ì´ë¼ë„ ì„¸ì…˜ì´ ë‹¤ë¥´ë‹¤ë©´ ë°ì´í„° ì ‘ê·¼ ë¶ˆê°€
- ì¿ í‚¤ì™€ ë§ˆì°¬ê°€ì§€ë¡œ Key-value í˜•íƒœë¡œ ì €ì¥


#### ì¿ í‚¤, ë¡œì»¬ ìŠ¤í† ë¦¬ì§€, ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš© ì˜ˆì œ


```js
// ì¿ í‚¤: document ê°ì²´ë¥¼ í†µí•´ ê´€ë¦¬ (stringìœ¼ë¡œ ê´€ë¦¬ë˜ì–´ ê°’ ì¶”ê°€ ë“± ë§¤ìš° ë¶ˆí¸ -> ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ê¶Œì¥)
document.cookie = 'key=value; key2=value2';

// ë¡œì»¬ ìŠ¤í† ë¦¬ì§€, ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ëŠ” ì¿ í‚¤ì— ë¹„í•´ ì‚¬ìš©í•˜ê¸° í¸í•¨. + ê°™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§€ê¸° ë•Œë¬¸ì— ì™¸ìš°ê¸°ë„ ì¢‹ìŒ
localStorage.setItem('name', 'íŒœìœ¤íƒœ');
console.log(localStorage.getItem('name')); // íŒœìœ¤íƒœ

localStorage.removeItem('name');
localStorage.clear(); // ë°ì´í„° ì „ë¶€ ì œê±°


sessionStorage.setItem('name', 'íŒœìœ¤íƒœ');
console.log(sessionStorage.getItem('name')); // íŒœìœ¤íƒœ

sessionStorage.removeItem('name');
sessionStorage.clear(); // ë°ì´í„° ì „ë¶€ ì œê±°
```